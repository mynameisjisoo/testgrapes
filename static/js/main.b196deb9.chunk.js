(this.webpackJsonpgrapes=this.webpackJsonpgrapes||[]).push([[0],{247:function(t,e,a){t.exports=a(520)},252:function(t,e,a){},253:function(t,e,a){},520:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),o=a(48),s=a.n(o),i=(a(252),a(159)),l=(a(253),a(57)),c=a.n(l),d=a(229),u=a.n(d),p=a(230),m=a.n(p),h=a(231),f=a.n(h),g=a(71),b=a(8),v=a.n(b),y=a(232),x=a(233),S=a(244),T=a(243),w=function(t){Object(S.a)(a,t);var e=Object(T.a)(a);function a(){return Object(y.a)(this,a),e.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){console.log(this.props.data);for(var t="",e=0,a=0;e<this.props.data.length&&a<10;e++,a++){var n=Object.keys(this.props.data[e]);console.log(n),t=n}return r.a.createElement("table",{cellspacing:"0",cellpadding:"0",style:{margin:"20px",display:"flex",flexDirection:"column",textAlign:"center",tableLayout:"fixed",whiteSpace:"normal",borderRadius:"15px",overflow:"hidden",boxShadow:"0 0px 40px 0px rgba(0, 0, 0, 0.15)",fontSize:"15px",color:"#808080"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:"#6c7ae0",boxShadow:"0px 0px 9px 0px rgba(0,0,0,0.1)",color:"white"}},t.map((function(e){return console.log(t.length),r.a.createElement("th",{style:{width:"".concat(100/t.length,"%"),padding:"15px"}},e)})))),r.a.createElement("tbody",{class:"Tbody"},this.props.data.map((function(e){var a=[];return t.forEach((function(t){"object"===typeof e[t]||"undefined"===typeof e[t]?e[t]="----------":!0===e[t]?e[t]="true":!1===e[t]?e[t]="false":e[t].length<1&&(e[t]="----------"),a.push(e[t])})),console.log(a),r.a.createElement("tr",{class:"Tr-body",style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"}},a.map((function(e){return r.a.createElement("td",{style:{width:"".concat(100/t.length,"%"),wordWrap:"break-word",padding:"10px 0"}},e)})))}))))}}]),a}(r.a.Component),D=a(10),E=a.n(D),k=a(24);v.a.defaults.headers={Authorization:"aKbUDekFAKiWP0Rx4wGY3HdNU7wrbWJvhkrefgyW6pdiWuVCry8izvNHkpFhfG9B"};var O="http://173.249.14.149:3001/api",C=function(){var t=Object(k.a)(E.a.mark((function t(e){var a,n=arguments;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"5ef370de14213070188a41eb",t.abrupt("return",v.a.post("".concat(O,"/Dashboards/").concat(a,"/widgetSettings"),e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(t){var e=[],a=t.DomComponents,n=a.getType("default"),o=n.model,i=n.view;function l(t){var e=[];for(var a in t)!0===t[a]&&e.push(a);return e}a.addType("table",{model:o.extend({defaults:Object(g.a)(Object(g.a)({},o.prototype.defaults),{},{droppable:!0,defaultData:[[{Name:"Henery",Location:"Usa",id:"5c24dc26dc10670017e40921","last Seen":"2020-06-10T19:51:40.452Z",notes:""}]],prevData:[],dbId:[],keys:[["Name","location","id","last Seen","notes"]],traits:[{name:"modify",type:"button",text:"Modify",full:!0,command:function(t){return v.a.get("http://173.249.14.149:3001/api/DataSources?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ").then((function(e){var a=t.getSelected();a.addTrait({name:"dataSource",type:"select",changeProp:1,options:e.data.map((function(t){return{id:t.id,name:t.title}}))}),a.removeTrait("modify")}))}}],toHTML:function(){return""}}),init:function(){if(this.listenTo(this,this.handlePropChange),this.attributes.prevData.length>=1&&(this.getTrait("modify").set("text","Edit"),this.addTrait({name:"Prev",type:"pre",text:'\n\t\t\t\t\t\tData Source : <span style="font-weight: bold;">'.concat("5ec035f7bb377b08ebc8938a"===this.attributes.prevData[0].dataSourceId?"MongoDB":this.attributes.prevData[0].dataSourceId,'</span><br/>\n\t\t\t\t\t\t Table : <span style="font-weight: bold;">').concat(this.attributes.prevData[0].config.docId,'</span><br/>\n\t\t\t\t\t\tFields : <span style="font-weight: bold;">').concat(this.attributes.prevData[0].config.fields.toString().replace(/,/g," | "),'</span><br/>\n\t\t\t\t\t\tPrimary key : <span style="font-weight: bold;"> ').concat(this.attributes.prevData[0].config.primaryKey,"</span><br/>\n\t\t\t\t\t")},{at:0})),!this.attributes.dataSource)return null;this.attributes.dataSource="",this.attributes.Table="",this.attributes.collections=""}}),view:i.extend({init:function(){this.listenTo(this.model,"change:modify change:dataSource change:Table change:console change:".concat(e.toString()),this.handleChanges)},handleChanges:function(){var a=this;!this.model.attributes.dataSource||void 0!=this.model.attributes.Table&&""!=this.model.attributes.Table||v.a.get("http://173.249.14.149:3001/api/DataSources/".concat(this.model.attributes.dataSource,"/doc-list?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ")).then((function(e){var n=t.getSelected();a.model.attributes.Table,n.addTrait({name:"Table",type:"select",options:e.data.map((function(t){return{id:t,name:t}})),changeProp:1})})),this.model.attributes.Table&&v.a.get("http://173.249.14.149:3001/api/DataSources/".concat(this.model.attributes.dataSource,"/field-list?docId=").concat(this.model.attributes.Table,"&access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ")).then((function(n){var r=t.getSelected();e.length>1&&a.model.get("traits").each((function(t){r.removeTrait(e.map((function(t){return t.toString()}))),r.removeTrait("collections"),r.removeTrait("console")})),n.data.map((function(t){var a=[{label:t,name:t,type:"checkbox",changeProp:1}];e.push(t),r.addTrait(a)})),r.addTrait({label:"Primary key",name:"collections",type:"select",options:n.data.map((function(t){return t})),changeProp:1},{at:40}),r.addTrait({type:"button",name:"console",changeProp:1,label:"log button",text:"Click me",full:!0,command:function(t){var e=t.getSelected(),n={},o=[];e.attributes.traits.models.forEach((function(t){n[t.attributes.name]=t.attributes.value})),o.push(n);var i;a.model.attributes.keys=[],i=o.map((function(t){return a.model.attributes.keys.push(l(t)),{dataSourceId:t.dataSource,config:{fields:l(t),primaryKey:t.collections,docId:t.Table,type:"simple",func:"find",query:{}},type:"Table"}}))[0],console.log(a.model.attributes.keys),C(i).then((function(t){console.log(t.data);var e=t.data.id;a.model.attributes.prevData=[],a.model.attributes.prevData.push(t.data),a.model.attributes.prevData.length>=1&&r.removeTrait("Prev"),v.a.get("http://173.249.14.149:3001/api/WidgetSettings/".concat(e,"/execute-query?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ")).then((function(t){console.log(t.data),a.model.attributes.defaultData.length<1||(a.model.attributes.defaultData=[]),a.model.attributes.defaultData.push(t.data)})).then((function(){s.a.unmountComponentAtNode(a.el),a.render()}))}))}})}))},onRender:function(t){var e=t.el;this.model.get("components").reset(),s.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w,{keys:this.model.attributes.keys,data:this.model.attributes.defaultData[0]}))),e)}})})},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e,n=t.BlockManager;n.remove("table"),n.add("table",{label:"Tabel",category:a.blockLabel,attributes:{class:"fa fa-table"},content:'\n        <div class="T" data-gjs-type="'.concat("table",'"></div>\n        <style>\n        .T {\n              float: left;\n\n        }\n        .Tbody {\n          max-height: 585px;\n          overflow: auto;\n        }\n        .Tbody tr:nth-child(even) {\n        background-color: #f8f6ff;\n      }\n        </style>\n      ')})},j=function(t,e){var a=t.Commands;a.add("load-html-template",(function(t){var a=t.getModel().get("Parser").parserHtml.unquoteJsxExpresionsInAttributes(t.getHtml());e.setHtmlString(a),e.setCssString(t.getCss())})),a.add("save-db",{run:function(t,e){e&&e.set("active"),t.store()}})},P=function(t,e){var a=t.Panels;console.log(a.getPanels()),a.addButton("options",[{id:"save-db",className:"fa fa-floppy-o",command:"save-db",attributes:{title:"Save",style:"color:#00C6CF; margin-left: 50px; "}}])},A=a(72),I=a(68),q=a(109),H=a.n(q);window.nodeHtmlParser=I.parse;var X=function(t){var e=t;return{compTypes:"",modelAttrStart:"data-gjs-",splitPropsFromAttr:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={},n={};return Object(A.a)(e,(function(e,r){if(0===r.indexOf(t.modelAttrStart)){var o=r.replace("data-gjs-",""),s=e.length,i=e&&Object(A.b)(e),l=i&&e.substr(0,1),c=i&&e.substr(s-1);e="false"!==(e="true"===e||e)&&e;try{e="{"==l&&"}"==c||"["==l&&"]"==c?JSON.parse(e):e}catch(d){}a[o]=e}else n[r]=e})),{props:a,attrs:n}},quoteJsxExpresionsInAttributes:function(t){for(var e=H.a.matchRecursive(t,"{","}","g"),a=0;a<e.length;a++)for(var n="{"+e[a]+"}",r=0;;){var o=!1,s=t.indexOf(n,r);if(-1===s)break;var i=s-1,l=s-2;if(l>0&&i>0&&(o='="'!==t.substring(l,l+2)&&"="===t.substring(i,i+1)),o){var c='"{'+e[a].replace("<","&lt;").replace(">","&gt;").replace("&","&amp;")+'}"';t=t.replace(n,c),r=s+c.length}else r=s+n.length}return t},unquoteJsxExpresionsInAttributes:function(t){var e=t.match(/=["']{.*}["']/g);if(!e)return t;for(var a=0;a<e.length;a++){var n=e[a],r=n.startsWith('="{')?n.replace('"{',"{").replace('}"',"}"):n.replace("{'","{").replace("}'","}");r=r.replace("&lt;","<").replace("&gt;",">").replace("&amp;","&"),t=t.replace(n,r)}return t},parseStyle:function(t){for(var e={},a=t.split(";"),n=0,r=a.length;n<r;n++){var o=a[n].trim();if(o){var s=o.split(":");e[s[0].trim()]=s.slice(1).join(":").trim()}}return e},parseClass:function(t){for(var e=[],a=t.split(" "),n=0,r=a.length;n<r;n++){var o=a[n].trim();o&&e.push(o)}return e},toAttrArray:function(t){var e=[];return Object.keys(t).map((function(a){e.push({nodeName:a,nodeValue:t[a]})})),e},parseNode:function(a){for(var n=[],r=a.childNodes,o=0,s=r.length;o<s;o++){var i=r[o];i.nodeValue=i.rawText,i.content=i.rawText;var l,c=(l=("object"==typeof i.attributes?this.toAttrArray(i.attributes):i.attributes)||[]).length,d=n[n.length-1],u=i.childNodes.length,p=this.compTypes,m={};if(p){var h="",f=i.getAttribute&&i.getAttribute("".concat("data-gjs-","type"));if(f||(f=i.attributes&&i.attributes["".concat("data-gjs-","type")]),f)m={type:f};else{for(var g=0;g<p.length;g++){var b=p[g];if(h=b.model.isComponent(i)){"object"!==typeof h&&(h={type:b.id});break}}m=h}}m.tagName=i.tagName,c&&(m.attributes={});for(var v=0;v<c;v++){var y=l[v].nodeName,x=l[v].nodeValue;if("style"==y)m.style=this.parseStyle(x);else if("class"==y)m.classes=this.parseClass(x);else{if("contenteditable"==y)continue;if(0===y.indexOf("data-gjs-")){var S=y.replace("data-gjs-",""),T=x.length,w=x&&x.substr(0,1),D=x&&x.substr(T-1);x="false"!==(x="true"===x||x)&&x;try{x="{"==w&&"}"==D||"["==w&&"]"==D?JSON.parse(x):x}catch(A){}m[S]=x}else m.attributes[y]=x}}if(u&&!m.components){var E=i.childNodes[0];E.nodeValue=E.rawText,1===u&&3===E.nodeType?(!m.type&&(m.type="text"),m.content=E.nodeValue):m.components=this.parseNode(i)}if("textnode"==m.type){if(m.content=i.nodeValue,d&&"textnode"==d.type){d.content+=m.content;continue}if(!t.keepEmptyTextNodes){var k=i.nodeValue;if(" "!=k&&!k.trim())continue}}var O=m.components;if(!m.type&&O){for(var C=1,N=0,J=0;J<O.length;J++){var j=O[J],P=j.type;if(["text","textnode"].indexOf(P)<0&&e.textTags.indexOf(j.tagName)<0){C=0;break}"textnode"==P&&(N=1)}C&&N&&(m.type="text")}(m.tagName||"textnode"==m.type)&&n.push(m)}return n},parse:function(t,a){console.log("html",t,a);e.em&&e.em.get("Config");var n={html:"",css:""},r=this.quoteJsxExpresionsInAttributes(t),o=!1;r.startsWith("<")||(r="<div>"+r+"</div>",o=!0);var s=Object(I.parse)(r),i=this.parseNode(s);if(1==i.length&&(i=i[0]),o&&(i.components?i=i.components:(delete i.tagName,i.type="textnode")),n.html=i,a){var l=document.createElement("div");l.innerHTML=t;for(var c="",d=l.querySelectorAll("style"),u=d.length;u--;)c=d[u].innerHTML+c,d[u].parentNode.removeChild(d[u]);c&&(n.css=a.parse(c))}return n}}};var B=a(528),z=a(531),V=a(526),Z=function(){return r.a.createElement("div",null,r.a.createElement(B.a,{theme:z.a.material},r.a.createElement(V.a,{interpolation:"natural",style:{data:{stroke:"#c43a31"},parent:{border:"1px solid #ccc"}},data:[{x:1,y:2},{x:2,y:3},{x:3,y:5},{x:4,y:4},{x:5,y:7}],labels:function(t){var e=t.datum;return"x: ".concat(e.x," | y: ").concat(e.y)},animate:{duration:2e3,onLoad:{duration:1e3}}})))};v.a.defaults.headers={Authorization:"B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ"};var M="http://173.249.14.149:3001/api",L=function(){var t=Object(k.a)(E.a.mark((function t(e){var a,n=arguments;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"5ef370de14213070188a41eb",t.abrupt("return",v.a.post("".concat(M,"/Dashboards/").concat(a,"/widgetSettings"),e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(t){var e=[],a=t.DomComponents,n=a.getType("default"),o=n.model,i=n.view;function l(t){var e=[];for(var a in t)!0===t[a]&&e.push(a);return e}a.addType("Chart",{model:o.extend({defaults:Object(g.a)(Object(g.a)({},o.prototype.defaults),{},{droppable:!0,defaultData:[[{Name:"Henery",Location:"Usa",id:"5c24dc26dc10670017e40921","last Seen":"2020-06-10T19:51:40.452Z",notes:""}]],prevData:[],dbId:[],traits:[{name:"modify",type:"button",text:"Modify",full:!0,command:function(t){return v.a.get("http://173.249.14.149:3001/api/DataSources?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ").then((function(e){var a=t.getSelected();a.addTrait({name:"dataSource",type:"select",changeProp:1,options:e.data.map((function(t){return{id:t.id,name:t.title}}))}),a.removeTrait("modify")}))}}],toHTML:function(){return""}}),init:function(){if(this.listenTo(this,this.handlePropChange),this.attributes.prevData.length>=1&&(this.getTrait("modify").set("text","Edit"),this.addTrait({name:"Prev",type:"pre",text:'\n\t\t\t\t\t\tData Source : <span style="font-weight: bold;">'.concat("5ec035f7bb377b08ebc8938a"===this.attributes.prevData[0].dataSourceId?"MongoDB":this.attributes.prevData[0].dataSourceId,'</span><br/>\n\t\t\t\t\t\t Table : <span style="font-weight: bold;">').concat(this.attributes.prevData[0].config.docId,'</span><br/>\n\t\t\t\t\t\tFields : <span style="font-weight: bold;">').concat(this.attributes.prevData[0].config.fields.toString().replace(/,/g," | "),'</span><br/>\n\t\t\t\t\t\tPrimary key : <span style="font-weight: bold;"> ').concat(this.attributes.prevData[0].config.primaryKey,"</span><br/>\n\t\t\t\t\t")},{at:0})),!this.attributes.dataSource)return null;this.attributes.dataSource="",this.attributes.Table="",this.attributes.collections=""}}),view:i.extend({init:function(){this.listenTo(this.model,"change:modify change:dataSource change:Table change:console change:".concat(e.toString()),this.handleChanges)},handleChanges:function(){var a=this;!this.model.attributes.dataSource||void 0!=this.model.attributes.Table&&""!=this.model.attributes.Table||v.a.get("http://173.249.14.149:3001/api/DataSources/".concat(this.model.attributes.dataSource,"/doc-list?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ")).then((function(e){var n=t.getSelected();a.model.attributes.Table,n.addTrait({name:"Table",type:"select",options:e.data.map((function(t){return{id:t,name:t}})),changeProp:1})})),this.model.attributes.Table&&v.a.get("http://173.249.14.149:3001/api/DataSources/".concat(this.model.attributes.dataSource,"/field-list?docId=").concat(this.model.attributes.Table,"&access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ")).then((function(n){var r=t.getSelected();e.length>1&&a.model.get("traits").each((function(t){r.removeTrait(e.map((function(t){return t.toString()}))),r.removeTrait("collections"),r.removeTrait("console")})),n.data.map((function(t){var a=[{label:t,name:t,type:"checkbox",changeProp:1}];e.push(t),r.addTrait(a)})),r.addTrait({label:"Primary key",name:"collections",type:"select",options:n.data.map((function(t){return t})),changeProp:1},{at:40}),r.addTrait({type:"button",name:"console",changeProp:1,label:"log button",text:"Click me",full:!0,command:function(t){var e=t.getSelected(),n={},o=[];e.attributes.traits.models.forEach((function(t){n[t.attributes.name]=t.attributes.value})),o.push(n);var i;i=o.map((function(t){return{dataSourceId:t.dataSource,config:{fields:l(t),primaryKey:t.collections,docId:t.Table,type:"simple",func:"find",query:{}},type:"Chart"}}))[0],L(i).then((function(t){console.log(t.data);var e=t.data.id;a.model.attributes.prevData=[],a.model.attributes.prevData.push(t.data),a.model.attributes.prevData.length>=1&&r.removeTrait("Prev"),v.a.get("http://173.249.14.149:3001/api/WidgetSettings/".concat(e,"/execute-query?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ")).then((function(t){console.log(t.data),a.model.attributes.defaultData.length<1||(a.model.attributes.defaultData=[]),a.model.attributes.defaultData.push(t.data)})).then((function(){s.a.unmountComponentAtNode(a.el),a.render()}))}))}})}))},onRender:function(t){var e=t.el;this.model.get("components").reset(),s.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Z,{data:this.model.attributes.defaultData[0]}))),e)}})})},G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e,n=t.BlockManager;n.remove("Chart"),n.add("Chart",{label:"Chart",category:a.blockLabel,attributes:{class:"fa fa-line-chart"},content:'\n        <div style="width: 30vw;" data-gjs-type="'.concat("Chart",'"></div>\n      ')})},W=function(t,e){var a=t.Commands;a.add("load-html-template",(function(t){var a=t.getModel().get("Parser").parserHtml.unquoteJsxExpresionsInAttributes(t.getHtml());e.setHtmlString(a),e.setCssString(t.getCss())})),a.add("save-db",{run:function(t,e){e&&e.set("active"),t.store()}})},F=function(t,e){var a=t.Panels;console.log(a.getPanels())};window.nodeHtmlParser=I.parse;var _=function(t){var e=t;return{compTypes:"",modelAttrStart:"data-gjs-",splitPropsFromAttr:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={},n={};return Object(A.a)(e,(function(e,r){if(0===r.indexOf(t.modelAttrStart)){var o=r.replace("data-gjs-",""),s=e.length,i=e&&Object(A.b)(e),l=i&&e.substr(0,1),c=i&&e.substr(s-1);e="false"!==(e="true"===e||e)&&e;try{e="{"==l&&"}"==c||"["==l&&"]"==c?JSON.parse(e):e}catch(d){}a[o]=e}else n[r]=e})),{props:a,attrs:n}},quoteJsxExpresionsInAttributes:function(t){for(var e=H.a.matchRecursive(t,"{","}","g"),a=0;a<e.length;a++)for(var n="{"+e[a]+"}",r=0;;){var o=!1,s=t.indexOf(n,r);if(-1===s)break;var i=s-1,l=s-2;if(l>0&&i>0&&(o='="'!==t.substring(l,l+2)&&"="===t.substring(i,i+1)),o){var c='"{'+e[a].replace("<","&lt;").replace(">","&gt;").replace("&","&amp;")+'}"';t=t.replace(n,c),r=s+c.length}else r=s+n.length}return t},unquoteJsxExpresionsInAttributes:function(t){var e=t.match(/=["']{.*}["']/g);if(!e)return t;for(var a=0;a<e.length;a++){var n=e[a],r=n.startsWith('="{')?n.replace('"{',"{").replace('}"',"}"):n.replace("{'","{").replace("}'","}");r=r.replace("&lt;","<").replace("&gt;",">").replace("&amp;","&"),t=t.replace(n,r)}return t},parseStyle:function(t){for(var e={},a=t.split(";"),n=0,r=a.length;n<r;n++){var o=a[n].trim();if(o){var s=o.split(":");e[s[0].trim()]=s.slice(1).join(":").trim()}}return e},parseClass:function(t){for(var e=[],a=t.split(" "),n=0,r=a.length;n<r;n++){var o=a[n].trim();o&&e.push(o)}return e},toAttrArray:function(t){var e=[];return Object.keys(t).map((function(a){e.push({nodeName:a,nodeValue:t[a]})})),e},parseNode:function(a){for(var n=[],r=a.childNodes,o=0,s=r.length;o<s;o++){var i=r[o];i.nodeValue=i.rawText,i.content=i.rawText;var l,c=(l=("object"==typeof i.attributes?this.toAttrArray(i.attributes):i.attributes)||[]).length,d=n[n.length-1],u=i.childNodes.length,p=this.compTypes,m={};if(p){var h="",f=i.getAttribute&&i.getAttribute("".concat("data-gjs-","type"));if(f||(f=i.attributes&&i.attributes["".concat("data-gjs-","type")]),f)m={type:f};else{for(var g=0;g<p.length;g++){var b=p[g];if(h=b.model.isComponent(i)){"object"!==typeof h&&(h={type:b.id});break}}m=h}}m.tagName=i.tagName,c&&(m.attributes={});for(var v=0;v<c;v++){var y=l[v].nodeName,x=l[v].nodeValue;if("style"==y)m.style=this.parseStyle(x);else if("class"==y)m.classes=this.parseClass(x);else{if("contenteditable"==y)continue;if(0===y.indexOf("data-gjs-")){var S=y.replace("data-gjs-",""),T=x.length,w=x&&x.substr(0,1),D=x&&x.substr(T-1);x="false"!==(x="true"===x||x)&&x;try{x="{"==w&&"}"==D||"["==w&&"]"==D?JSON.parse(x):x}catch(A){}m[S]=x}else m.attributes[y]=x}}if(u&&!m.components){var E=i.childNodes[0];E.nodeValue=E.rawText,1===u&&3===E.nodeType?(!m.type&&(m.type="text"),m.content=E.nodeValue):m.components=this.parseNode(i)}if("textnode"==m.type){if(m.content=i.nodeValue,d&&"textnode"==d.type){d.content+=m.content;continue}if(!t.keepEmptyTextNodes){var k=i.nodeValue;if(" "!=k&&!k.trim())continue}}var O=m.components;if(!m.type&&O){for(var C=1,N=0,J=0;J<O.length;J++){var j=O[J],P=j.type;if(["text","textnode"].indexOf(P)<0&&e.textTags.indexOf(j.tagName)<0){C=0;break}"textnode"==P&&(N=1)}C&&N&&(m.type="text")}(m.tagName||"textnode"==m.type)&&n.push(m)}return n},parse:function(t,a){console.log("html",t,a);e.em&&e.em.get("Config");var n={html:"",css:""},r=this.quoteJsxExpresionsInAttributes(t),o=!1;r.startsWith("<")||(r="<div>"+r+"</div>",o=!0);var s=Object(I.parse)(r),i=this.parseNode(s);if(1==i.length&&(i=i[0]),o&&(i.components?i=i.components:(delete i.tagName,i.type="textnode")),n.html=i,a){var l=document.createElement("div");l.innerHTML=t;for(var c="",d=l.querySelectorAll("style"),u=d.length;u--;)c=d[u].innerHTML+c,d[u].parentNode.removeChild(d[u]);c&&(n.css=a.parse(c))}return n}}};var K=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"TestComponent"),r.a.createElement("div",{style:{backgroundColor:"red"}},"ddd"))},U=function(){var t=Object(n.useState)(!1),e=Object(i.a)(t,2),a=e[0],o=e[1],s=Object(n.useState)(null),l=Object(i.a)(s,2),d=l[0];l[1];return Object(n.useEffect)((function(){if(a){if(!d)c.a.init({color:"white",height:"100vh",width:"auto",container:"#g",fromElement:!0,plugins:[u.a,m.a,f.a,"Table-Plugin","Chart-Plugin"],storageManager:{type:"remote",urlStore:"http://173.249.14.149:3001/api/Dashboards/5ef370de14213070188a41eb/grapes?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ",urlLoad:"http://173.249.14.149:3001/api/Dashboards/5ef370de14213070188a41eb/grapes?access_token=B6IES26pZSvpX4J8c8q4wmseASpRtmBOtvXzztH57NDDJXxO94qE7VbtJ7y718GZ",autosave:!1,autoload:!0,contentTypeJson:!0,storeComponents:!0,allowScripts:1,storeStyles:!0,storeHtml:!0,storeCss:!0}})}else c.a.plugins.add("Table-Plugin",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.TraitManager.addType("pre",{noLabel:!0,getInputEl:function(){var t=this.model.props().text;return'<div type="text" style="font-size: 1rem; line-height:30px; margin:10px; word-wrap: break-word; width: 180px;">'.concat(t,"</div>")}});var a=e,n={blocks:["Table-Plugin"],blockLabel:"Table",blockCategory:"Extra",defaultStyle:!0};for(var r in console.log(n),n)r in a||(a[r]=n[r]);N(t,a),J(t,a),j(t,a),P(t);var o=t.getModel(),s=o.get("Config");s.textTags=["br","b","i","u","a","ul","ol"],o.get("Parser").parserHtml=X(s),o.get("Parser").parseHtml=function(t){var e=o.get("Parser").parserHtml;return e.compTypes=o.get("DomComponents").getTypes(),e.parse(t,o.get("Parser").parserCss)},t.on("load",(function(){var e=t.Panels.getButton("views","open-blocks");e&&e.set("active",1)}))})),c.a.plugins.add("Chart-Plugin",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.TraitManager.addType("pre",{noLabel:!0,getInputEl:function(){var t=this.model.props().text;return'<div type="text" style="font-size: 1rem; line-height:30px; margin:10px; word-wrap: break-word; width: 180px;">'.concat(t,"</div>")}});var a=e,n={blocks:["Chart-Plugin"],blockLabel:"Charts",blockCategory:"Extra",defaultStyle:!0};for(var r in console.log(n),n)r in a||(a[r]=n[r]);R(t,a),G(t,a),W(t,a),F(t);var o=t.getModel(),s=o.get("Config");s.textTags=["br","b","i","u","a","ul","ol"],o.get("Parser").parserHtml=_(s),o.get("Parser").parseHtml=function(t){var e=o.get("Parser").parserHtml;return e.compTypes=o.get("DomComponents").getTypes(),e.parse(t,o.get("Parser").parserCss)},t.on("load",(function(){var e=t.Panels.getButton("views","open-blocks");e&&e.set("active",1)}))})),o(!0)})),r.a.createElement("div",{id:"g",className:"h"},r.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[247,1,2]]]);
//# sourceMappingURL=main.b196deb9.chunk.js.map